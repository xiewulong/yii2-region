!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();/*!
	 * linkage
	 * xiewulong <xiewulong@vip.qq.com>
	 * create: 2016/12/13
	 * version: 0.0.1
	 */
!function(t,e,a){var s=function(){function e(i,a,s){n(this,e),this.$target=t(i),this.url=a,this.hint=s,this.itemClass="J-x-region-linkage-item",this.$hidden=this.$target.find("input[type=hidden]"),this.$target.children().not(this.$hidden).addClass(this.itemClass),this.$template=this.$target.find("."+this.itemClass).eq(0).clone(),this.$templateSelect="select"==this.$template.get(0).tagName.toLowerCase()?this.$template:this.$template.find("select"),!this.value&&this.changed(this.$target.find("select:last")),this.events()}return i(e,[{key:"clear",value:function(){this.value=null}},{key:"render",value:function(t){var e=['<option value="0">'+this.hint+"</option>"];return t.map(function(t){e.push('<option value="'+t.id+'">'+t.name+"</option>")}),this.$templateSelect.html(e.join("")),this.$template.clone()}},{key:"changed",value:function(e){var n=this,i=t(e),a=i.hasClass(this.itemClass)?i:i.parents("."+this.itemClass),s=+i.val();return a.nextAll("."+this.itemClass).remove(),s?void t.ajax({url:this.url,data:{id:s},method:"get",dataType:"json",success:function(t){t.error||(t.data.length?(n.clear(),a.after(n.render(t.data))):n.value=s)}}):void this.clear()}},{key:"events",value:function(){var t=this;this.$target.on("change","select",function(){t.changed(this)})}},{key:"value",get:function(){return this.$hidden.val()},set:function(t){this.$hidden.val(t)}}]),e}();t.fn.regionLinkage=function(t,e){return this.each(function(){new s(this,t,e)})}}(jQuery,document)}]);
//# sourceMappingURL=linkage.min.js.map